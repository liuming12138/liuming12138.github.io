(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-news-des-index"],{"143d":function(t,e,a){var r=a("24fb");e=r(!1),e.push([t.i,".line-bar[data-v-0fcde78d]{position:relative}.line-bar-active[data-v-0fcde78d]{position:absolute;height:100%;left:0;top:0}.circle[data-v-0fcde78d]{border-radius:50%;position:relative}.left[data-v-0fcde78d],\n.right[data-v-0fcde78d]{position:absolute;overflow:hidden}.left-circle[data-v-0fcde78d]{transition:all .5s;-webkit-transform-origin:right center;transform-origin:right center;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.right-circle[data-v-0fcde78d]{transition:all .5s;-webkit-transform-origin:left center;transform-origin:left center;-webkit-transform:rotate(-180deg);transform:rotate(-180deg)}@-webkit-keyframes progross1-data-v-0fcde78d{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes progross1-data-v-0fcde78d{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes progross2-data-v-0fcde78d{to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}@keyframes progross2-data-v-0fcde78d{to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}.right[data-v-0fcde78d]{right:0}.inner[data-v-0fcde78d]{background:#fff;position:absolute;z-index:999;border-radius:100%;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);overflow:hidden;display:flex;align-items:center;justify-content:center}",""]),t.exports=e},4839:function(t,e,a){"use strict";a.r(e);var r=a("eea9"),i=a("a301");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("b7f6");var s=a("f0c5"),o=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"0fcde78d",null,!1,r["a"],void 0);e["default"]=o.exports},"53a9":function(t,e,a){var r=a("143d");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var i=a("4f06").default;i("0768a39a",r,!0,{sourceMap:!1,shadowMode:!1})},"723f":function(t,e,a){var r=a("24fb");e=r(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.cur-ring[data-v-31492c45]{position:fixed;top:%?300?%;right:%?40?%;z-index:5555}.place[data-v-31492c45]{background-color:#fff;height:%?88?%}.app-bar[data-v-31492c45]{display:flex;align-items:center;position:fixed;width:100%;height:%?88?%;background-color:#2b74fe;padding:0 %?30?%;box-sizing:border-box;justify-content:space-between;top:0;left:0;z-index:10}.app-bar > uni-view uni-text[data-v-31492c45]{font-size:%?34?%;font-family:SourceHanSansCN;font-weight:400;color:hsla(0,0%,100%,.6);display:inline-block;margin:0 %?30?%}.app-bar > uni-view uni-text.on[data-v-31492c45]{color:#fff}.app-bar uni-navigator[data-v-31492c45]{text-align:center}.app-bar uni-navigator uni-image[data-v-31492c45]{width:%?34?%;margin:%?5?% auto 0}.app-bar uni-navigator uni-text[data-v-31492c45]{font-size:%?34?%;font-family:SourceHanSansCN;font-weight:400;color:#fff}.app-bar uni-navigator:nth-of-type(2) uni-text[data-v-31492c45]{font-size:%?28?%}.app[data-v-31492c45]{padding:%?20?% %?40?%}.app > uni-text[data-v-31492c45]{text-align:center;display:block;font-size:%?36?%;font-family:PingFang SC;font-weight:700;color:#333}.app .app-1[data-v-31492c45]{margin:%?30?% 0;text-align:center}.app .app-1 uni-text[data-v-31492c45]{font-size:%?22?%;font-family:PingFang SC;font-weight:500;color:#999;margin-right:%?20?%}.app uni-image[data-v-31492c45]{width:100%}.app uni-video[data-v-31492c45]{width:100%}.app-2[data-v-31492c45]{text-indent:%?48?%}.app-3[data-v-31492c45]{position:fixed;top:40%;right:%?50?%;z-index:22;background-color:hsla(0,0%,100%,0);border-radius:50%;overflow:hidden}.app-4 uni-video[data-v-31492c45]{width:100%}.app-4 uni-audio[data-v-31492c45]{width:100%}',""]),t.exports=e},a301:function(t,e,a){"use strict";a.r(e);var r=a("f1f6"),i=a.n(r);for(var n in r)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(n);e["default"]=i.a},a663:function(t,e,a){var r=a("723f");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var i=a("4f06").default;i("39fc1f38",r,!0,{sourceMap:!1,shadowMode:!1})},af55b:function(t,e,a){"use strict";a.r(e);var r=a("cd69"),i=a("e0b6");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("eca1");var s=a("f0c5"),o=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"31492c45",null,!1,r["a"],void 0);e["default"]=o.exports},b7f6:function(t,e,a){"use strict";var r=a("53a9"),i=a.n(r);i.a},cd69:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return r}));var r={uParse:a("7f99").default,luanqingProgressbar:a("4839").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"app"},[a("page-status"),a("v-uni-text",[t._v(t._s(t.newsData.title))]),a("v-uni-view",{staticClass:"app-1"},[a("v-uni-text",[t._v("时间："+t._s(t._f("dateFiles")(t.newsData.pubdate)))]),a("v-uni-text",{staticClass:"iconfont"},[t._v("")]),a("v-uni-text",[t._v(t._s(t.newsData.readCount))])],1),2==t.newsData.contentType?a("v-uni-view",{staticClass:"app-4"},[a("v-uni-video",{attrs:{src:t._f("videoFiles")(t.newsData.images),controls:!0}})],1):t._e(),4==t.newsData.contentType?a("v-uni-view",{staticClass:"app-4"},[a("v-uni-audio",{attrs:{src:t._f("videoFiles")(t.newsData.images),name:t.newsData.title,controls:!0}})],1):t._e(),a("v-uni-view",{staticClass:"app-2"},[a("u-parse",{attrs:{content:t.newsData.remark}})],1),a("v-uni-view",{staticStyle:{"margin-top":"2em",color:"#999"}},[t.newsData.editor?a("v-uni-view",[t._v("编辑："+t._s(t.newsData.editor))]):t._e(),t.newsData.reviewer?a("v-uni-view",[t._v("审核："+t._s(t.newsData.reviewer))]):t._e()],1),t.ringShow?a("v-uni-view",{staticClass:"cur-ring"},["ring"===t.showMode?a("luanqing-progressbar",{ref:"ringProgressBar",attrs:{"active-color":"#2b74fe","default-color":"#ACACAC",mode:"ring",border:10,ringSize:60,deley:1e3*t.seconds}},[a("v-uni-view",{staticStyle:{"font-size":"24rpx"}},[t._v(t._s(t.seconds))])],1):t._e()],1):t._e(),a("share-wx",{ref:"shareWx"}),a("share-app",{ref:"shareApp",attrs:{shareData:t.shareData}})],1)},n=[]},e0b6:function(t,e,a){"use strict";a.r(e);var r=a("f748b"),i=a.n(r);for(var n in r)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(n);e["default"]=i.a},eca1:function(t,e,a){"use strict";var r=a("a663"),i=a.n(r);i.a},eea9:function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return"ring"===t.mode?a("v-uni-view",{staticClass:"circle",style:[t.circle]},[a("v-uni-view",{staticClass:"left",style:[t.size]},[a("v-uni-view",{staticClass:"left-circle",style:[{animation:t.stycircle1},{"animation-delay":t.animationDelay},{"animation-play-state":t.pause_text},t.size,t.leftCircle]})],1),a("v-uni-view",{staticClass:"right",style:[t.size]},[a("v-uni-view",{staticClass:"right-circle",style:[{animation:t.stycircle2},{"animation-play-state":t.pause_text},t.size,t.rightcircle]})],1),a("v-uni-view",{staticClass:"inner",style:[t.inner]},[t._t("default")],2)],1):a("v-uni-view",[a("v-uni-view",{staticClass:"line-bar",style:"width:"+t.lineProgressBarWidth+"rpx;height:"+t.lineProgressBarHeight+"rpx;background-color:"+t.defaultColor+";border-radius:"+t.lineProgressBarRadius+"rpx"},[a("v-uni-view",{staticClass:"line-bar-active",style:"background-color:"+t.activeColor+";width:"+t.activeLineBarWidth+"rpx;border-radius:"+t.lineProgressBarRadius+"rpx"})],1)],1)},i=[]},f1f6:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3");var r=void 0,i={props:{mode:{type:String,default:"line"},deley:{type:Number,default:10},ringSize:{type:Number,default:200},border:{type:Number,default:30},lineProgressBarWidth:{type:Number,default:750},lineProgressBarHeight:{type:Number,default:20},lineProgressBarRadius:{type:Number,default:12},activeColor:{type:String,default:"#E00300"},defaultColor:{type:String,default:"#CDCDCD"}},data:function(){return{activeLineBarWidth:0,lineProgressBarValue:0,stycircle1:{},stycircle2:{},animationDelay:0,timeAll:0,pause_text:"",finish:!1}},destroyed:function(){r&&clearInterval(r)},methods:{calcActiveLineWidth:function(t){t=t>100?100:t,t=t<0?0:t;var e=this.$props.lineProgressBarWidth,a=e*(t/100);a=a<0?0:a,a=a>e?e:a,this.lineProgressBarValue=t,this.activeLineBarWidth=a,console.error("宽度：",this.activeLineBarWidth)},start:function(t){var e=this;"ring"===this.mode?this.deley<100?uni.showToast({title:"进度时间须>=100毫秒",icon:"none"}):(this.stop(),this.$nextTick((function(){var t=Number((e.deley/2).toFixed(2));e.stycircle2="progross2 ".concat(t,"ms linear forwards"),e.animationDelay="".concat(t,"ms"),e.stycircle1="progross1 ".concat(t,"ms linear forwards"),e.timeAll=e.deley,e.startInterval()}))):this.calcActiveLineWidth(t)},startInterval:function(){var t=this;r&&clearInterval(r),r=setInterval((function(){t.timeAll-=100,t.timeAll<1&&(t.finish=!0,clearInterval(r),t.$emit("endTime"))}),100)},pause:function(){this.finish||(r&&clearInterval(r),this.pause_text="paused",this.$emit("pause",this.timeAll))},resume:function(){""!=this.pause_text&&"running"!=this.pause_text&&(this.pause_text="running",this.startInterval())},stop:function(){this.stycircle2="progross 0ms linear forwards",this.stycircle1="progross 0ms linear forwards",this.animationDelay=0,this.finish=!1,r&&clearInterval(r)}},computed:{circle:function(){var t=this.ringSize,e=this.defaultColor;return{width:"".concat(t,"rpx"),height:"".concat(t,"rpx"),background:e}},size:function(){var t=this.ringSize;return{width:"".concat(t/2+1,"rpx"),height:"".concat(t+1,"rpx")}},leftCircle:function(){var t=this.ringSize,e=this.activeColor;return{borderTopLeftRadius:"".concat(t,"rpx"),borderBottomLeftRadius:"".concat(t,"rpx"),background:e}},rightcircle:function(){var t=this.ringSize,e=this.activeColor;return{borderTopRightRadius:"".concat(t,"rpx"),borderBottomRightRadius:"".concat(t,"rpx"),background:e}},inner:function(){var t=this.ringSize,e=this.border;return{width:"".concat(t-e,"rpx"),height:"".concat(t-e,"rpx")}}},watch:{}};e.default=i},f748b:function(t,e,a){"use strict";a("7a82");var r=a("ee27").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(a("f07e")),n=r(a("c964")),s={data:function(){return{newsData:{},guize:{},seconds:15,bfb:0,timer:"",score:0,providerList:[],count:"",showMode:"ring",ringShow:!1,shareData:{}}},onBackPress:function(){clearInterval(this.timer),uni.hideToast()},onUnload:function(){clearInterval(this.timer),uni.hideToast()},destroyed:function(){clearInterval(this.timer)},onLoad:function(t){this.getNoticeInfo(t)},onShow:function(){this.hasLogin&&this.getDayReadCount()},computed:{hasLogin:function(){return this.ringShow=this.$store.state.hasLogin,this.$store.state.hasLogin}},watch:{count:function(t){t<5?this.getIntegralRules():this.ringShow=!1}},methods:{tapShare:function(){this.hasLogin?this.$refs.shareWx.showShare():uni.showModal({title:"提示",content:"未登录或登录超时，请重新登录！",success:function(t){t.confirm&&uni.navigateTo({url:"/pages/login/login"})}})},onBack:function(){uni.navigateBack()},getNoticeInfo:function(t){var e=this;return(0,n.default)((0,i.default)().mark((function a(){var r;return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$api.useNewsApi().getNoticeInfo({id:t.id});case 2:r=a.sent,e.newsData=r.data.data,e.shareData={title:e.newsData.title,image:e.newsData.image,desc:e.newsData.title},e.$onWechat(e.shareData);case 6:case"end":return a.stop()}}),a)})))()},getIntegralRules:function(){var t=this;return(0,n.default)((0,i.default)().mark((function e(){var a,r;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$api.useIntegralApi().getIntegralRules();case 2:a=e.sent,console.log(a.data),r=a.data,t.guize=r,t.seconds=r.noticeReadTime,t.$refs.ringProgressBar.start(),t.bfb=100-t.seconds/t.guize.noticeReadTime*100,t.timer=setInterval((function(){t.seconds--,t.bfb=100-t.seconds/t.guize.noticeReadTime*100,t.seconds<=0&&(t.seconds=0,t.bfb=100,t.readIntegral(),clearInterval(t.timer))}),1e3);case 10:case"end":return e.stop()}}),e)})))()},readIntegral:function(){var t=this;return(0,n.default)((0,i.default)().mark((function e(){var a;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.useIntegralApi().readIntegral({noticeId:t.newsData.id});case 3:a=e.sent,1e4==a.data.error_code?t.$toast(a.data.message,"success"):t.$toast(a.data.message),t.$refs.ringProgressBar.stop(),t.ringShow=!1,e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))()},getDayReadCount:function(){var t=this;return(0,n.default)((0,i.default)().mark((function e(){var a;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$api.useNewsApi().getDayReadCount();case 2:a=e.sent,t.count=a.data.count;case 4:case"end":return e.stop()}}),e)})))()}}};e.default=s}}]);